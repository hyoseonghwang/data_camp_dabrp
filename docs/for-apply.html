<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>실무 빅데이터 분석을 위한 SQL과 R의 활용 CAMP</title>
  <meta name="description" content="실무 빅데이터 분석을 위한 SQL과 R의 활용 CAMP">
  <meta name="generator" content="bookdown 0.4.9 and GitBook 2.6.7">

  <meta property="og:title" content="실무 빅데이터 분석을 위한 SQL과 R의 활용 CAMP" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="실무 빅데이터 분석을 위한 SQL과 R의 활용 CAMP" />
  
  
  

<meta name="author" content="박찬엽">


<meta name="date" content="2017-08-20">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-type.html">
<link rel="next" href="sql.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<link href="libs/vis-4.17.0/vis.css" rel="stylesheet" />
<script src="libs/vis-4.17.0/vis.min.js"></script>
<script src="libs/visNetwork-binding-1.0.3/visNetwork.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-47822682-14', 'auto');
  ga('send', 'pageview');
</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="dabrp.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">실무 빅데이터 분석을 위한 SQL과 R의 활용 CAMP</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>머리말</a></li>
<li class="chapter" data-level="" data-path="-.html"><a href="-.html"><i class="fa fa-check"></i>시작하기 전에</a><ul>
<li class="chapter" data-level="0.1" data-path="-.html"><a href="-.html#content-intro"><i class="fa fa-check"></i><b>0.1</b> 데이터를 다루는 것</a></li>
<li class="chapter" data-level="0.2" data-path="-.html"><a href="-.html#data-for-class"><i class="fa fa-check"></i><b>0.2</b> 준비된 데이터</a></li>
<li class="chapter" data-level="0.3" data-path="-.html"><a href="-.html#rstudio-intro"><i class="fa fa-check"></i><b>0.3</b> R과 Rstudio</a></li>
<li class="chapter" data-level="0.4" data-path="-.html"><a href="-.html#github-intro"><i class="fa fa-check"></i><b>0.4</b> git과 github</a></li>
<li class="chapter" data-level="0.5" data-path="-.html"><a href="-.html#database-for-class"><i class="fa fa-check"></i><b>0.5</b> 사용할 데이터베이스</a></li>
<li class="chapter" data-level="0.6" data-path="-.html"><a href="-.html#docker-for-reproducible"><i class="fa fa-check"></i><b>0.6</b> 환경 통일을 위한 도구 도커</a></li>
<li class="chapter" data-level="0.7" data-path="-.html"><a href="-.html#Colophon"><i class="fa fa-check"></i><b>0.7</b> 정보</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>1</b> RStudio에 사용하기 좋은 기능 소개</a><ul>
<li class="chapter" data-level="1.1" data-path="rstudio.html"><a href="rstudio.html#introduce-rstudio"><i class="fa fa-check"></i><b>1.1</b> RStudio 소개</a><ul>
<li class="chapter" data-level="1.1.1" data-path="rstudio.html"><a href="rstudio.html#ide"><i class="fa fa-check"></i><b>1.1.1</b> IDE 란</a></li>
<li class="chapter" data-level="1.1.2" data-path="rstudio.html"><a href="rstudio.html#rstudio"><i class="fa fa-check"></i><b>1.1.2</b> Rstudio</a></li>
<li class="chapter" data-level="1.1.3" data-path="rstudio.html"><a href="rstudio.html#ide-others"><i class="fa fa-check"></i><b>1.1.3</b> 다른 IDE 소개</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="rstudio.html"><a href="rstudio.html#structures"><i class="fa fa-check"></i><b>1.2</b> 구조와 기능들</a><ul>
<li class="chapter" data-level="1.2.1" data-path="rstudio.html"><a href="rstudio.html#source-pane"><i class="fa fa-check"></i><b>1.2.1</b> source 창</a></li>
<li class="chapter" data-level="1.2.2" data-path="rstudio.html"><a href="rstudio.html#console-pane"><i class="fa fa-check"></i><b>1.2.2</b> console 창</a></li>
<li class="chapter" data-level="1.2.3" data-path="rstudio.html"><a href="rstudio.html#env-pane"><i class="fa fa-check"></i><b>1.2.3</b> environment 창</a></li>
<li class="chapter" data-level="1.2.4" data-path="rstudio.html"><a href="rstudio.html#help-pane"><i class="fa fa-check"></i><b>1.2.4</b> help 창</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="rstudio.html"><a href="rstudio.html#project-git"><i class="fa fa-check"></i><b>1.3</b> 프로젝트와 버전관리</a><ul>
<li class="chapter" data-level="1.3.1" data-path="rstudio.html"><a href="rstudio.html#use-project"><i class="fa fa-check"></i><b>1.3.1</b> 폴더와 프로젝트</a></li>
<li class="chapter" data-level="1.3.2" data-path="rstudio.html"><a href="rstudio.html#introduce-git"><i class="fa fa-check"></i><b>1.3.2</b> 버전관리도구 git</a></li>
<li class="chapter" data-level="1.3.3" data-path="rstudio.html"><a href="rstudio.html#introduce-github"><i class="fa fa-check"></i><b>1.3.3</b> github</a></li>
<li class="chapter" data-level="1.3.4" data-path="rstudio.html"><a href="rstudio.html#packages-with-github"><i class="fa fa-check"></i><b>1.3.4</b> github과 패키지 생태계</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="rstudio.html"><a href="rstudio.html#help-page"><i class="fa fa-check"></i><b>1.4</b> 도움말</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-type.html"><a href="data-type.html"><i class="fa fa-check"></i><b>2</b> 대부분의 에러 문제를 해결할 수 있는 기초 자료형에 대한 이해</a><ul>
<li class="chapter" data-level="2.1" data-path="data-type.html"><a href="data-type.html#basic-data-type"><i class="fa fa-check"></i><b>2.1</b> 기초 자료형</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data-type.html"><a href="data-type.html#logical"><i class="fa fa-check"></i><b>2.1.1</b> 논리형 logical</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-type.html"><a href="data-type.html#numeric"><i class="fa fa-check"></i><b>2.1.2</b> 숫자형 numeric</a></li>
<li class="chapter" data-level="2.1.3" data-path="data-type.html"><a href="data-type.html#character"><i class="fa fa-check"></i><b>2.1.3</b> 글자형 character</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-type.html"><a href="data-type.html#vector"><i class="fa fa-check"></i><b>2.2</b> 벡터</a><ul>
<li class="chapter" data-level="2.2.1" data-path="data-type.html"><a href="data-type.html#vector-intro"><i class="fa fa-check"></i><b>2.2.1</b> 하나의 기초 자료형만으로 구성된 1차원 데이터 집합</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-type.html"><a href="data-type.html#vector-subset"><i class="fa fa-check"></i><b>2.2.2</b> vector에서 일부 데이터 불러오기</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-type.html"><a href="data-type.html#matrix"><i class="fa fa-check"></i><b>2.3</b> 메트릭스</a><ul>
<li class="chapter" data-level="2.3.1" data-path="data-type.html"><a href="data-type.html#matrix-intro"><i class="fa fa-check"></i><b>2.3.1</b> vector의 2차원 확장</a></li>
<li class="chapter" data-level="2.3.2" data-path="data-type.html"><a href="data-type.html#matrix-subset"><i class="fa fa-check"></i><b>2.3.2</b> matrix에서 일부 데이터 불러오기</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-type.html"><a href="data-type.html#factor"><i class="fa fa-check"></i><b>2.4</b> 팩터</a><ul>
<li class="chapter" data-level="2.4.1" data-path="data-type.html"><a href="data-type.html#categorical-data"><i class="fa fa-check"></i><b>2.4.1</b> 명목형 변수</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="data-type.html"><a href="data-type.html#list"><i class="fa fa-check"></i><b>2.5</b> 리스트</a><ul>
<li class="chapter" data-level="2.5.1" data-path="data-type.html"><a href="data-type.html#list-intro"><i class="fa fa-check"></i><b>2.5.1</b> 다른 종류의 자료형들이 함께</a></li>
<li class="chapter" data-level="2.5.2" data-path="data-type.html"><a href="data-type.html#list-subset"><i class="fa fa-check"></i><b>2.5.2</b> 리스트의 일부 데이터 불러오기</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="data-type.html"><a href="data-type.html#data-frame"><i class="fa fa-check"></i><b>2.6</b> 데이터프레임</a><ul>
<li class="chapter" data-level="2.6.1" data-path="data-type.html"><a href="data-type.html#data-frame-intro"><i class="fa fa-check"></i><b>2.6.1</b> 사람이 이해하기 쉬운 자료형</a></li>
<li class="chapter" data-level="2.6.2" data-path="data-type.html"><a href="data-type.html#order-sort"><i class="fa fa-check"></i><b>2.6.2</b> 순서에 대해 작업하기</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="data-type.html"><a href="data-type.html#date-time"><i class="fa fa-check"></i><b>2.7</b> 날짜</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="for-apply.html"><a href="for-apply.html"><i class="fa fa-check"></i><b>3</b> 단순 반복 업무를 위한 for문과 apply류 맛보기</a><ul>
<li class="chapter" data-level="3.1" data-path="for-apply.html"><a href="for-apply.html#introduce-if"><i class="fa fa-check"></i><b>3.1</b> 조건문</a><ul>
<li class="chapter" data-level="3.1.1" data-path="for-apply.html"><a href="for-apply.html#if"><i class="fa fa-check"></i><b>3.1.1</b> if</a></li>
<li class="chapter" data-level="3.1.2" data-path="for-apply.html"><a href="for-apply.html#else"><i class="fa fa-check"></i><b>3.1.2</b> else</a></li>
<li class="chapter" data-level="3.1.3" data-path="for-apply.html"><a href="for-apply.html#ifelse"><i class="fa fa-check"></i><b>3.1.3</b> ifelse</a></li>
<li class="chapter" data-level="3.1.4" data-path="for-apply.html"><a href="for-apply.html#try"><i class="fa fa-check"></i><b>3.1.4</b> try</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="for-apply.html"><a href="for-apply.html#introduce-loop"><i class="fa fa-check"></i><b>3.2</b> 반복문</a><ul>
<li class="chapter" data-level="3.2.1" data-path="for-apply.html"><a href="for-apply.html#repeat"><i class="fa fa-check"></i><b>3.2.1</b> repeat</a></li>
<li class="chapter" data-level="3.2.2" data-path="for-apply.html"><a href="for-apply.html#break"><i class="fa fa-check"></i><b>3.2.2</b> break</a></li>
<li class="chapter" data-level="3.2.3" data-path="for-apply.html"><a href="for-apply.html#while"><i class="fa fa-check"></i><b>3.2.3</b> while</a></li>
<li class="chapter" data-level="3.2.4" data-path="for-apply.html"><a href="for-apply.html#for"><i class="fa fa-check"></i><b>3.2.4</b> for</a></li>
<li class="chapter" data-level="3.2.5" data-path="for-apply.html"><a href="for-apply.html#next"><i class="fa fa-check"></i><b>3.2.5</b> next</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="for-apply.html"><a href="for-apply.html#introduce-apply"><i class="fa fa-check"></i><b>3.3</b> apply류의 함수들</a><ul>
<li class="chapter" data-level="3.3.1" data-path="for-apply.html"><a href="for-apply.html#apply"><i class="fa fa-check"></i><b>3.3.1</b> apply</a></li>
<li class="chapter" data-level="3.3.2" data-path="for-apply.html"><a href="for-apply.html#applys"><i class="fa fa-check"></i><b>3.3.2</b> apply-family</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sql.html"><a href="sql.html"><i class="fa fa-check"></i><b>4</b> 데이터 원본/의존성의 개념과 SQL 문법 익히기</a><ul>
<li class="chapter" data-level="4.1" data-path="sql.html"><a href="sql.html#prerequisite"><i class="fa fa-check"></i><b>4.1</b> 사전 준비</a><ul>
<li class="chapter" data-level="4.1.1" data-path="sql.html"><a href="sql.html#install-mariadb"><i class="fa fa-check"></i><b>4.1.1</b> mariaDB 설치</a></li>
<li class="chapter" data-level="4.1.2" data-path="sql.html"><a href="sql.html#install-interface"><i class="fa fa-check"></i><b>4.1.2</b> GUI 툴 설치</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="sql.html"><a href="sql.html#for-data"><i class="fa fa-check"></i><b>4.2</b> 데이터를 바라보는 시선</a><ul>
<li class="chapter" data-level="4.2.1" data-path="sql.html"><a href="sql.html#original-data"><i class="fa fa-check"></i><b>4.2.1</b> 데이터 원본</a></li>
<li class="chapter" data-level="4.2.2" data-path="sql.html"><a href="sql.html#data-dependency"><i class="fa fa-check"></i><b>4.2.2</b> 데이터 의존성</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="sql.html"><a href="sql.html#basic-sql"><i class="fa fa-check"></i><b>4.3</b> 기본 SQL 문법</a><ul>
<li class="chapter" data-level="4.3.1" data-path="sql.html"><a href="sql.html#crud"><i class="fa fa-check"></i><b>4.3.1</b> CRUD와 데이터베이스</a></li>
<li class="chapter" data-level="4.3.2" data-path="sql.html"><a href="sql.html#read"><i class="fa fa-check"></i><b>4.3.2</b> Read 문법</a></li>
<li class="chapter" data-level="4.3.3" data-path="sql.html"><a href="sql.html#join"><i class="fa fa-check"></i><b>4.3.3</b> Join</a></li>
<li class="chapter" data-level="4.3.4" data-path="sql.html"><a href="sql.html#practice"><i class="fa fa-check"></i><b>4.3.4</b> 실습</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>5</b> tidy data 개념과 dplyr+tidyr로 데이터 다루기</a><ul>
<li class="chapter" data-level="5.1" data-path="tidyr.html"><a href="tidyr.html#tidy-data"><i class="fa fa-check"></i><b>5.1</b> 단정한 데이터</a></li>
<li class="chapter" data-level="5.2" data-path="tidyr.html"><a href="tidyr.html#dplyr-tidyr"><i class="fa fa-check"></i><b>5.2</b> dplyr + tidyr</a><ul>
<li class="chapter" data-level="5.2.1" data-path="tidyr.html"><a href="tidyr.html#pipe-operator"><i class="fa fa-check"></i><b>5.2.1</b> pipe 연산자 %&gt;%</a></li>
<li class="chapter" data-level="5.2.2" data-path="tidyr.html"><a href="tidyr.html#dplyr-functions"><i class="fa fa-check"></i><b>5.2.2</b> dplyr 명령어 소개</a></li>
<li class="chapter" data-level="5.2.3" data-path="tidyr.html"><a href="tidyr.html#tidyr-functions"><i class="fa fa-check"></i><b>5.2.3</b> tidyr 명령어 소개</a></li>
<li class="chapter" data-level="5.2.4" data-path="tidyr.html"><a href="tidyr.html#dplyr-join-dplyrjoin"><i class="fa fa-check"></i><b>5.2.4</b> dplyr과 join {#dplyr&amp;join}</a></li>
<li class="chapter" data-level="5.2.5" data-path="tidyr.html"><a href="tidyr.html#dplyr-sql"><i class="fa fa-check"></i><b>5.2.5</b> dplyr과 SQL</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="tidyr.html"><a href="tidyr.html#data.table"><i class="fa fa-check"></i><b>5.3</b> data.table</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ggplot.html"><a href="ggplot.html"><i class="fa fa-check"></i><b>6</b> 보고용 차트를 위한 ggplot2 사용하기</a><ul>
<li class="chapter" data-level="6.1" data-path="ggplot.html"><a href="ggplot.html#ggplot2"><i class="fa fa-check"></i><b>6.1</b> ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="knitr.html"><a href="knitr.html"><i class="fa fa-check"></i><b>7</b> 정기 보고서 자동 작성을 위해 knitr로 문서화하고 스케줄러로 자동화하기</a><ul>
<li class="chapter" data-level="7.1" data-path="knitr.html"><a href="knitr.html#markdown"><i class="fa fa-check"></i><b>7.1</b> Markdown 문법</a><ul>
<li class="chapter" data-level="7.1.1" data-path="knitr.html"><a href="knitr.html#markdown-exp"><i class="fa fa-check"></i><b>7.1.1</b> 마크다운이란</a></li>
<li class="chapter" data-level="7.1.2" data-path="knitr.html"><a href="knitr.html#syntax"><i class="fa fa-check"></i><b>7.1.2</b> 문법 소개</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="knitr.html"><a href="knitr.html#rmd"><i class="fa fa-check"></i><b>7.2</b> Rmd 양식으로 문서 작성</a><ul>
<li class="chapter" data-level="7.2.1" data-path="knitr.html"><a href="knitr.html#r-code--"><i class="fa fa-check"></i><b>7.2.1</b> R code 실행 결과</a></li>
<li class="chapter" data-level="7.2.2" data-path="knitr.html"><a href="knitr.html#yaml---"><i class="fa fa-check"></i><b>7.2.2</b> YAML 해더를 이용한 출력물</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="knitr.html"><a href="knitr.html#scheduler"><i class="fa fa-check"></i><b>7.3</b> 스케줄러</a><ul>
<li class="chapter" data-level="7.3.1" data-path="knitr.html"><a href="knitr.html#taskscheduler"><i class="fa fa-check"></i><b>7.3.1</b> windows 작업 스케줄러</a></li>
<li class="chapter" data-level="7.3.2" data-path="knitr.html"><a href="knitr.html#crontab"><i class="fa fa-check"></i><b>7.3.2</b> linux 작업 스케줄러</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="knitr.html"><a href="knitr.html#bookdown"><i class="fa fa-check"></i><b>7.4</b> bookdown</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>8</b> shiny 패키지를 활용한 인터렉티프 웹 만들기</a><ul>
<li class="chapter" data-level="8.1" data-path="shiny.html"><a href="shiny.html#shiny-intro"><i class="fa fa-check"></i><b>8.1</b> shiny</a><ul>
<li class="chapter" data-level="8.1.1" data-path="shiny.html"><a href="shiny.html#shiny-"><i class="fa fa-check"></i><b>8.1.1</b> shiny의 화면</a></li>
<li class="chapter" data-level="8.1.2" data-path="shiny.html"><a href="shiny.html#shiny-"><i class="fa fa-check"></i><b>8.1.2</b> shiny의 서버</a></li>
<li class="chapter" data-level="8.1.3" data-path="shiny.html"><a href="shiny.html#shiny-"><i class="fa fa-check"></i><b>8.1.3</b> shiny의 입출력</a></li>
<li class="chapter" data-level="8.1.4" data-path="shiny.html"><a href="shiny.html#shiny-"><i class="fa fa-check"></i><b>8.1.4</b> shiny의 배포</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="shiny.html"><a href="shiny.html#shiny--1"><i class="fa fa-check"></i><b>8.2</b> shiny의 입출력</a><ul>
<li class="chapter" data-level="8.2.1" data-path="shiny.html"><a href="shiny.html#output"><i class="fa fa-check"></i><b>8.2.1</b> output$</a></li>
<li class="chapter" data-level="8.2.2" data-path="shiny.html"><a href="shiny.html#render"><i class="fa fa-check"></i><b>8.2.2</b> render*({})</a></li>
<li class="chapter" data-level="8.2.3" data-path="shiny.html"><a href="shiny.html#input"><i class="fa fa-check"></i><b>8.2.3</b> input$</a></li>
<li class="chapter" data-level="8.2.4" data-path="shiny.html"><a href="shiny.html#shiny---"><i class="fa fa-check"></i><b>8.2.4</b> shiny 앱 작성 구조</a></li>
<li class="chapter" data-level="8.2.5" data-path="-.html"><a href="-.html#-"><i class="fa fa-check"></i><b>8.2.5</b> 반응형 함수들</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="shiny.html"><a href="shiny.html#encoding-"><i class="fa fa-check"></i><b>8.3</b> encoding 문제</a></li>
<li class="chapter" data-level="8.4" data-path="shiny.html"><a href="shiny.html#shiny--js--"><i class="fa fa-check"></i><b>8.4</b> shiny가 지원하는 js 패키지들의 활용</a><ul>
<li class="chapter" data-level="8.4.1" data-path="shiny.html"><a href="shiny.html#--leaflet"><i class="fa fa-check"></i><b>8.4.1</b> 지도를 지원하는 leaflet</a></li>
<li class="chapter" data-level="8.4.2" data-path="shiny.html"><a href="shiny.html#----ggiraph"><i class="fa fa-check"></i><b>8.4.2</b> 마우스 이벤트를 추가적으로 지원하는 ggiraph</a></li>
<li class="chapter" data-level="8.4.3" data-path="shiny.html"><a href="shiny.html#-network---visnetwork"><i class="fa fa-check"></i><b>8.4.3</b> 상호작용 network 화면을 만드는 visNetwork</a></li>
<li class="chapter" data-level="8.4.4" data-path="shiny.html"><a href="shiny.html#dashboard-shiny---shinydashboard"><i class="fa fa-check"></i><b>8.4.4</b> dashboard를 shiny로 만들어 보자 shinydashboard</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="eba788ecb998eba9b0.html"><a href="eba788ecb998eba9b0.html"><i class="fa fa-check"></i>마치며</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">실무 빅데이터 분석을 위한 SQL과 R의 활용 CAMP</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="for-apply" class="section level1">
<h1><span class="header-section-number">3</span> 단순 반복 업무를 위한 for문과 apply류 맛보기</h1>
<div id="introduce-if" class="section level2">
<h2><span class="header-section-number">3.1</span> 조건문</h2>
<div id="if" class="section level3">
<h3><span class="header-section-number">3.1.1</span> if</h3>
<p><code>if</code>는 <code>if (조건) {조건이 true 이면 실행할 부분}</code>으로 구성됩니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span>(<span class="ot">TRUE</span>){<span class="kw">print</span>(<span class="dv">1</span>)}
<span class="co">#&gt; [1] 1</span>
<span class="kw">print</span>(<span class="dv">2</span>)
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>조건은 결과가 하나의 <code>logical</code> 값으로 나와야 하고 여러 개의 <code>logical</code> 값이면 맨 앞의 값만 사용한다는 <code>warning</code>을 같이 출력합니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span>(<span class="kw">c</span>(T,F,F,F)){<span class="kw">print</span>(<span class="dv">1</span>)}
<span class="co">#&gt; Warning in if (c(T, F, F, F)) {: length &gt; 1 이라는 조건이 있고, 첫번째 요소</span>
<span class="co">#&gt; 만이 사용될 것입니다</span>
<span class="co">#&gt; [1] 1</span>
<span class="kw">print</span>(<span class="dv">2</span>)
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>보통은 아래와 같은 형식으로 사용합니다.</p>
<pre><code>x&lt;-1
if ( x &gt; 0 ){
  print(1)
}
</code></pre>
<p>이제까지 조건이라고 말하는 것이 있었는데, 조건이란 <code>TRUE</code>, <code>FALSE</code>로 결과가 나오는 표현 전부를 뜻합니다. 제가 <code>if</code>문에서 나올 만한 예시를 준비했습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x&lt;-<span class="kw">c</span>()
<span class="cf">if</span>(<span class="kw">identical</span>(x,<span class="kw">c</span>())){<span class="kw">print</span>(<span class="st">&quot;x has no data.&quot;</span>)}
<span class="co">#&gt; [1] &quot;x has no data.&quot;</span>
<span class="kw">print</span>(<span class="st">&quot;if part done.&quot;</span>)
<span class="co">#&gt; [1] &quot;if part done.&quot;</span>

<span class="kw">options</span>(<span class="dt">stringsAsFactors =</span> F)

y&lt;-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)
z&lt;-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)
<span class="cf">if</span>(<span class="kw">length</span>(y)<span class="op">==</span><span class="kw">length</span>(z)){
  tem&lt;-<span class="kw">data.frame</span>(y,z)
  <span class="kw">print</span>(tem)
}
<span class="co">#&gt;   y z</span>
<span class="co">#&gt; 1 1 1</span>
<span class="co">#&gt; 2 2 2</span>
<span class="co">#&gt; 3 3 3</span>
<span class="kw">print</span>(<span class="st">&quot;if part done.&quot;</span>)
<span class="co">#&gt; [1] &quot;if part done.&quot;</span></code></pre></div>
<p><code>identical</code>은 두 개의 변수를 비교해주고 같으면 <code>TRUE</code>, 다르면 <code>FALSE</code>를 결과로 주는 함수입니다. 결과를 <code>logical</code>로 주는 덕분에 조건문에 사용하기 딱 좋은 함수 입니다. 예를 들어 데이터에 무언가 문제가 생겨서 함수에 들어가지 못하거나 할때 우회하는 조건을 작성하는데 좋습니다. 저같은 경우는 <code>N2H4</code> 패키지를 작성할 때 <a href="https://github.com/forkonlp/N2H4/blob/master/R/getContent.R">getContent</a>에서 사용했습니다. 물론 이상적으로는 정규식과 네이버 뉴스의 root url을 바탕으로 비교하는 식으로 해야 더 정교하겠습니다만, <code>getUrlListByCategory</code> 함수에서 생성되는 <code>link</code>를 사용하는 형태도 구성되어 있어서 아래와 같이 작성하였습니다.</p>
<pre><code>...
  if(!identical(url,character(0))){
    if (RCurl::url.exists(url)&amp;
       &quot;error_msg 404&quot;!=(read_html(url)%&gt;%html_nodes(&quot;div#main_content div div&quot;)%&gt;%html_attr(&quot;class&quot;))[1]
        ) {
...</code></pre>
</div>
<div id="else" class="section level3">
<h3><span class="header-section-number">3.1.2</span> else</h3>
<p>영어 표현을 보면 생각하기 쉬우시겠지만 <code>if(조건){조건이 true 이면 실행할 부분}</code> 이후에 사용해서 조건이 <code>false</code>면 실행할 부분을 작성하는데 사용합니다. <code>if (조건) {조건이 true 이면 실행할 부분} else {조건이 false 면 실행할 부분}</code>으로 구성됩니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span>(<span class="ot">TRUE</span>){
  <span class="kw">print</span>(<span class="dv">1</span>)
} <span class="cf">else</span> {
  <span class="kw">print</span>(<span class="dv">3</span>)
}
<span class="co">#&gt; [1] 1</span>
<span class="kw">print</span>(<span class="dv">2</span>)
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p><code>else</code>는 앞에 <code>if</code>가 조건을 작성했기 때문에 추가적인 조건을 작성하지는 않습니다. 여러 if 조건을 사용하고 그 이후에 else를 사용할 수도 있습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x&lt;-<span class="dv">1</span>

<span class="cf">if</span>(x<span class="op">&lt;</span><span class="dv">0</span>){
  <span class="kw">print</span>(<span class="dv">1</span>)
} 
<span class="cf">if</span>(x<span class="op">&gt;</span><span class="dv">10</span>) {
  <span class="kw">print</span>(<span class="dv">3</span>)
} <span class="cf">else</span> {
  <span class="kw">print</span>(<span class="dv">2</span>)
}
<span class="co">#&gt; [1] 2</span>
<span class="kw">print</span>(<span class="dv">4</span>)
<span class="co">#&gt; [1] 4</span></code></pre></div>
<p>최근의 코드 작성 스타일은 <code>누가 봐도 읽고 이해하기 쉽게</code> 이다 보니 고려하면 좋을 것 같습니다. 특히 이 스타일은 자기 자신에게도 적용이 되어서, <code>나중에 봐도 기억하기 쉽게</code> 작성하는 것이 좋습니다.</p>
</div>
<div id="ifelse" class="section level3">
<h3><span class="header-section-number">3.1.3</span> ifelse</h3>
<p><code>ifelse</code>는 앞에 함수와는 다른 결과를 제공해서 사용하는 곳이 다릅니다. 우선 형태는 <code>ifelse(조건, 조건이 true일때 할 것, 조건이 false일때 할 것)</code>으로 구성됩니다. 그래서 기존의 데이터를 새로운 기준으로 조정해서 사용할 때 많이 사용합니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readr)
<span class="co">#&gt; Warning: 패키지 &#39;readr&#39;는 R 버전 3.4.1에서 작성되었습니다</span>
sd&lt;-<span class="kw">read_csv</span>(<span class="st">&quot;./data/membership.txt&quot;</span>)
<span class="co">#&gt; Parsed with column specification:</span>
<span class="co">#&gt; cols(</span>
<span class="co">#&gt;   고객번호 = col_character(),</span>
<span class="co">#&gt;   멤버십명 = col_character(),</span>
<span class="co">#&gt;   가입년월 = col_integer()</span>
<span class="co">#&gt; )</span>
<span class="kw">names</span>(sd)[<span class="dv">1</span>]&lt;-<span class="st">&quot;고객번호&quot;</span>
sd&lt;-<span class="kw">data.frame</span>(sd)

<span class="kw">str</span>(sd)
<span class="co">#&gt; &#39;data.frame&#39;:    7456 obs. of  3 variables:</span>
<span class="co">#&gt;  $ 고객번호: chr  &quot;00011&quot; &quot;00021&quot; &quot;00037&quot; &quot;00043&quot; ...</span>
<span class="co">#&gt;  $ 멤버십명: chr  &quot;하이마트&quot; &quot;하이마트&quot; &quot;하이마트&quot; &quot;하이마트&quot; ...</span>
<span class="co">#&gt;  $ 가입년월: int  201512 201506 201306 201403 201411 201312 201506 201404 201406 201311 ...</span>
<span class="kw">summary</span>(sd)
<span class="co">#&gt;    고객번호           멤버십명            가입년월     </span>
<span class="co">#&gt;  Length:7456        Length:7456        Min.   :201210  </span>
<span class="co">#&gt;  Class :character   Class :character   1st Qu.:201311  </span>
<span class="co">#&gt;  Mode  :character   Mode  :character   Median :201407  </span>
<span class="co">#&gt;                                        Mean   :201412  </span>
<span class="co">#&gt;                                        3rd Qu.:201504  </span>
<span class="co">#&gt;                                        Max.   :201512</span>

sd<span class="op">$</span><span class="st">&quot;최근고객&quot;</span>&lt;-<span class="kw">ifelse</span>(sd<span class="op">$</span><span class="st">&quot;가입년월&quot;</span><span class="op">&gt;</span><span class="kw">mean</span>(sd<span class="op">$</span><span class="st">&quot;가입년월&quot;</span>),<span class="st">&quot;최근&quot;</span>,<span class="st">&quot;최근아님&quot;</span>)
<span class="kw">head</span>(sd)
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 1    00011 하이마트   201512     최근</span>
<span class="co">#&gt; 2    00021 하이마트   201506     최근</span>
<span class="co">#&gt; 3    00037 하이마트   201306 최근아님</span>
<span class="co">#&gt; 4    00043 하이마트   201403 최근아님</span>
<span class="co">#&gt; 5    00044 하이마트   201411 최근아님</span>
<span class="co">#&gt; 6    00061 하이마트   201312 최근아님</span></code></pre></div>
<p>관련해서 <a href="https://www.facebook.com/groups/krstudy/permalink/767170710123870/">여기</a>를 가보시면 <code>for</code>문에 대한 간략한 방법을 질문하시고, 댓글로 여러 답변이 달렸는데, <code>ifelse</code>가 가장 좋은 해결책으로 보입니다. 확인해보세요.</p>
</div>
<div id="try" class="section level3">
<h3><span class="header-section-number">3.1.4</span> try</h3>
<p><code>try</code>는 <code>error</code>를 우회하거나 활용하기 위해서 사용하는 함수입니다. 직접 사용할 일은 많지 않지만 함수의 실행에서 에러가 났을 때 (ex&gt; data.frame은 데이터의 길이가 다르면 변수를 만들지 못하고 에러를 출력합니다.) 에러가 난 부분만 기록하고 넘기는 형태로 코드를 작성 할 수 있습니다. 더 섬세하 기능의 <code>tryCatch</code> 도 있으니 <code>?tryCatch</code>를 확인해주세요.</p>
<pre><code>noObj
print(1)
## Error in try(noObj) : object &#39;noObj&#39; not found</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">try</span>(noObj)
<span class="kw">print</span>(<span class="dv">1</span>)
<span class="co">#&gt; [1] 1</span></code></pre></div>
<p>콘솔에서 실행하면 <code>try(noObj)</code>에서 에러가 발생합니다. 하지만 멈추는 것이 아니라 다음 코드를 실행하는 것이 그냥 <code>noObj</code>를 코드에 작성한 것과 차이점입니다. <code>try</code>를 입력해 보시면 <code>silect</code> 옵션이 있는데 <code>TRUE</code>로 해주면 에러 출력도 하지 않습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">err&lt;-<span class="kw">try</span>(noObj)
err
<span class="co">#&gt; [1] &quot;Error in try(noObj) : 객체 &#39;noObj&#39;를 찾을 수 없습니다\n&quot;</span>
<span class="co">#&gt; attr(,&quot;class&quot;)</span>
<span class="co">#&gt; [1] &quot;try-error&quot;</span>
<span class="co">#&gt; attr(,&quot;condition&quot;)</span>
<span class="co">#&gt; &lt;simpleError in doTryCatch(return(expr), name, parentenv, handler): 객체 &#39;noObj&#39;를 찾을 수 없습니다&gt;</span>
<span class="kw">class</span>(err)
<span class="co">#&gt; [1] &quot;try-error&quot;</span></code></pre></div>
<p>위와 같은 식으로 <code>try(함수)</code>를 변수에 선언하면 <code>class(변수)</code>를 통해 조건문을 활용해서 에러가 발생했을 때를 직접적으로 우회할 수 있습니다.</p>
</div>
</div>
<div id="introduce-loop" class="section level2">
<h2><span class="header-section-number">3.2</span> 반복문</h2>
<div id="repeat" class="section level3">
<h3><span class="header-section-number">3.2.1</span> repeat</h3>
<p><code>repeat</code>은 가장 단순한 형태의 반복 구분입니다. 그냥 <code>repeat</code>만 사용할 수도 있습니다만, <code>repeat(print(1))</code>을 실행하면 무한히 <code>1</code>을 출력하고 멈추지 않습니다. 강제로 멈추는 활동을 해주어야만 멈추니 주의해 주세요. 그래서 <code>break</code> 문법이 준비되어 있습니다.</p>
</div>
<div id="break" class="section level3">
<h3><span class="header-section-number">3.2.2</span> break</h3>
<p><code>break</code>는 말 그대로 멈추라는 명령입니다. <code>break</code>는 독특하게 뒤에 <code>()</code>를 붙이지 않고 활용하는 함수로 조건문이나 반복문 안에 쓰여서 조건문과 반복문을 멈추는 역할을 합니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x&lt;-<span class="dv">1</span>
<span class="cf">repeat</span>(
  <span class="cf">if</span>(x<span class="op">&gt;</span><span class="dv">10</span>){
    <span class="cf">break</span>
  } <span class="cf">else</span> {
  <span class="kw">print</span>(x)
  x&lt;-x<span class="op">+</span><span class="dv">1</span>
  }
)
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 4</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; [1] 6</span>
<span class="co">#&gt; [1] 7</span>
<span class="co">#&gt; [1] 8</span>
<span class="co">#&gt; [1] 9</span>
<span class="co">#&gt; [1] 10</span></code></pre></div>
</div>
<div id="while" class="section level3">
<h3><span class="header-section-number">3.2.3</span> while</h3>
<p>사실 <code>repeat</code>문은 사용법이 조금 길이서 잘 사용하지 않습니다. 기능적인 대체는 <code>while</code>문으로 가능한데, <code>while</code>은 <code>while(조건){조건이 true인 동안 할 것}</code>으로 구성됩니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x&lt;-<span class="dv">1</span>
<span class="cf">while</span>(x<span class="op">&lt;</span><span class="dv">10</span>){
  <span class="kw">print</span>(x)
  x&lt;-x<span class="op">+</span><span class="dv">1</span>
}
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 4</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; [1] 6</span>
<span class="co">#&gt; [1] 7</span>
<span class="co">#&gt; [1] 8</span>
<span class="co">#&gt; [1] 9</span></code></pre></div>
<p>위의 코드가 아까 <code>repeat</code>으로 만든 식과 같은 결과를 보여줍니다. 안의 조건이 달라서 이해가 어려우실 수 있어서 <code>repeat</code>을 다시 작성해보겠습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x&lt;-<span class="dv">1</span>
<span class="cf">repeat</span>(
  <span class="cf">if</span>(x<span class="op">&lt;</span><span class="dv">10</span>){
    <span class="kw">print</span>(x)
    x&lt;-x<span class="op">+</span><span class="dv">1</span>
  } <span class="cf">else</span> {
    <span class="cf">break</span>
  }
)
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 4</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; [1] 6</span>
<span class="co">#&gt; [1] 7</span>
<span class="co">#&gt; [1] 8</span>
<span class="co">#&gt; [1] 9</span></code></pre></div>
<p>자유도가 높은 <code>repeat</code>에 비해서 <code>while</code>은 괄고 안의 조건이 <code>TRUE</code>일 때 동안만 동작합니다. 하지만 한 방법으로만 고정되어 있어서 오히려 혼란을 막고, 코드가 읽기 좋게 작성할 수 있는 장점이 있습니다.</p>
</div>
<div id="for" class="section level3">
<h3><span class="header-section-number">3.2.4</span> for</h3>
<p><code>for</code>는 반복하는 내용을 쉽게 다루기 위해서 준비되어 있습니다. 예를 들어서 위에서 <code>while</code>로 작성된 것을 <code>for</code>로 다시 작성해 보겠습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span>(x <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">9</span>){
  <span class="kw">print</span>(x)
}
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 4</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; [1] 6</span>
<span class="co">#&gt; [1] 7</span>
<span class="co">#&gt; [1] 8</span>
<span class="co">#&gt; [1] 9</span></code></pre></div>
<p><code>while</code>에 비해 훨씬 간결해 졌습니다. 이해하기도 좋구요. <code>for(반복에 사용할 변수 in 반복에 사용할 변수에 넣을 데이터를 가지는 벡터){반복 실행할 내용 - 반복에 사용할 변수를 활용함}</code>의 형태로 사용합니다. 말로 풀어 쓰려니 오히려 어려워 보이는 것 같네요. 몇 가지 예시를 더 들어 보겠습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data&lt;-<span class="kw">head</span>(sd<span class="op">$</span><span class="st">&quot;고객번호&quot;</span>)
<span class="cf">for</span>(cNum <span class="cf">in</span> data){
  <span class="kw">print</span>(sd[sd<span class="op">$</span><span class="st">&quot;고객번호&quot;</span><span class="op">==</span>cNum,])
}
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 1    00011 하이마트   201512     최근</span>
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 2    00021 하이마트   201506     최근</span>
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 3    00037 하이마트   201306 최근아님</span>
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 4    00043 하이마트   201403 최근아님</span>
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 5    00044 하이마트   201411 최근아님</span>
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 6    00061 하이마트   201312 최근아님</span></code></pre></div>
<p><a href="https://github.com/forkonlp/N2H4/wiki/%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C">N2H4</a>의 사용예시도 복잡하게 무려 <code>5중 for문(!)</code>으로 구성되어 있습니다. 중간에 <code>while</code>, <code>try</code>, <code>if</code>도 다 사용되었으니 설명해 드리겠습니다.</p>
</div>
<div id="next" class="section level3">
<h3><span class="header-section-number">3.2.5</span> next</h3>
<p>에러에 대해 우회하는 것에 대해서 조건문을 주는 방법을 설명드렸었습니다. <code>next</code>는 <code>break</code>와 비슷하지만 조건문이나 반복문을 멈추는 것이 아니라 다음 번으로 넘기는 역할을 합니다. 예를 들면 아래와 같습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data&lt;-<span class="kw">head</span>(sd<span class="op">$</span><span class="st">&quot;고객번호&quot;</span>)
<span class="cf">for</span>(cNum <span class="cf">in</span> data){
  <span class="cf">if</span>(sd[sd<span class="op">$</span><span class="st">&quot;고객번호&quot;</span><span class="op">==</span>cNum,<span class="st">&quot;최근고객&quot;</span>]<span class="op">==</span><span class="st">&quot;최근&quot;</span>){<span class="cf">next</span>}
  <span class="kw">print</span>(sd[sd<span class="op">$</span><span class="st">&quot;고객번호&quot;</span><span class="op">==</span>cNum,])
}
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 3    00037 하이마트   201306 최근아님</span>
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 4    00043 하이마트   201403 최근아님</span>
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 5    00044 하이마트   201411 최근아님</span>
<span class="co">#&gt;   고객번호 멤버십명 가입년월 최근고객</span>
<span class="co">#&gt; 6    00061 하이마트   201312 최근아님</span></code></pre></div>
<p>출력된 내용을 보면 <code>sd[sd$&quot;고객번호&quot;==cNum,&quot;최근고객&quot;]==&quot;최근&quot;</code>일 때 다음 줄에 있는 <code>print</code>를 하지 않고 <code>다음(next)</code>으로 넘어간 것을 확인할 수 있습니다. 이걸 통해서 조건에 따라 그 아래 내용을 실행하지 않고 다음번 반복으로 넘기는 것이 가능합니다.</p>
<p><a href="https://github.com/forkonlp/N2H4/wiki/%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C">N2H4</a>의 사용예시에는 <code>next</code>를 사용하지 않고 <code>while</code>을 사용했는데, 크롤링 특성상 요청이 일부 실패도 할 수 있기 때문에 추가적인 시도를 하기 위해서 사용했습니다. 데이터를 전부 가져오는 것이 많이 중요하지 않다면 <code>next</code>를 사용하는 것이 더 간편하고 빠르게 작성하는 방법이 될 것 같습니다.</p>
<p>지금 예시를 눈으로 보여드리기 위해 <code>for</code>문 안을 <code>print</code>로 계속 채우고 있는데, <code>print</code>의 위치에 수행하고자 하는 함수를 작성하시면 됩니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X&lt;-<span class="kw">as.data.frame</span>(<span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">64</span>, <span class="dt">ncol=</span><span class="dv">4</span>, <span class="dt">dimnames=</span><span class="kw">list</span>(<span class="kw">seq</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">16</span>), <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>))))

X<span class="op">$</span>a[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">10</span>)]&lt;-<span class="dv">0</span>


<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(X)){
  <span class="cf">if</span> (X<span class="op">$</span>a[i]<span class="op">==</span><span class="dv">0</span>) {
      X<span class="op">$</span>e[i]&lt;-(<span class="op">-</span><span class="dv">999</span>) 
    } <span class="cf">else</span> {
      X<span class="op">$</span>e[i]&lt;-X<span class="op">$</span>b[i]<span class="op">/</span>X<span class="op">$</span>c[i]
    }
}
X
<span class="co">#&gt;     a  b  c  d        e</span>
<span class="co">#&gt; 1   0 17 33 49 -999.000</span>
<span class="co">#&gt; 2   2 18 34 50    0.529</span>
<span class="co">#&gt; 3   0 19 35 51 -999.000</span>
<span class="co">#&gt; 4   4 20 36 52    0.556</span>
<span class="co">#&gt; 5   5 21 37 53    0.568</span>
<span class="co">#&gt; 6   6 22 38 54    0.579</span>
<span class="co">#&gt; 7   7 23 39 55    0.590</span>
<span class="co">#&gt; 8   8 24 40 56    0.600</span>
<span class="co">#&gt; 9   9 25 41 57    0.610</span>
<span class="co">#&gt; 10  0 26 42 58 -999.000</span>
<span class="co">#&gt; 11 11 27 43 59    0.628</span>
<span class="co">#&gt; 12 12 28 44 60    0.636</span>
<span class="co">#&gt; 13 13 29 45 61    0.644</span>
<span class="co">#&gt; 14 14 30 46 62    0.652</span>
<span class="co">#&gt; 15 15 31 47 63    0.660</span>
<span class="co">#&gt; 16 16 32 48 64    0.667</span></code></pre></div>
<p><code>ifelse</code> 함수에서 소개했던 질문쪽의 <code>for</code>로 작성된 코드입니다. <code>for</code>로 작성하는 것이 사실 생각하기 쉬운 방법이라고 생각합니다. 저는 심지어 처음에는 <code>for</code>로 작성하라고 권장합니다. 문제를 직접 겪고, 그 문제를 해결하는 방법을 찾으려할 때 그 방법이 더 몸에 남는 것 같습니다.</p>
<p>아래 <code>apply</code>를 하기 전에 <code>for</code>와 <code>ifelse</code>가 얼마나 다른지 한 번 비교해 보겠습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="co">#&gt; Warning: 패키지 &#39;ggplot2&#39;는 R 버전 3.4.1에서 작성되었습니다</span>
<span class="kw">library</span>(dplyr)
<span class="co">#&gt; Warning: 패키지 &#39;dplyr&#39;는 R 버전 3.4.1에서 작성되었습니다</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; 다음의 패키지를 부착합니다: &#39;dplyr&#39;</span>
<span class="co">#&gt; The following objects are masked from &#39;package:stats&#39;:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from &#39;package:base&#39;:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw">library</span>(tidyr)
<span class="co">#&gt; Warning: 패키지 &#39;tidyr&#39;는 R 버전 3.4.1에서 작성되었습니다</span>

times&lt;-<span class="kw">c</span>(<span class="dv">100</span>,<span class="dv">1000</span>,<span class="dv">10000</span>,<span class="dv">30000</span>,<span class="dv">50000</span>,<span class="dv">100000</span>)
tData&lt;-<span class="kw">c</span>()
<span class="cf">for</span>(tm <span class="cf">in</span> times){

  X&lt;-<span class="kw">as.data.frame</span>(<span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span>tm, <span class="dt">ncol=</span><span class="dv">4</span>, <span class="dt">dimnames=</span><span class="kw">list</span>(<span class="kw">seq</span>(<span class="dv">1</span><span class="op">:</span>(tm<span class="op">/</span><span class="dv">4</span>)), <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>))))
  
  X<span class="op">$</span>a[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">10</span>)]&lt;-<span class="dv">0</span>
  
  forTime&lt;-<span class="kw">system.time</span>(
    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(X)){
      <span class="cf">if</span> (X<span class="op">$</span>a[i]<span class="op">==</span><span class="dv">0</span>) {
          X<span class="op">$</span>e[i]&lt;-(<span class="op">-</span><span class="dv">999</span>) 
        } <span class="cf">else</span> {
          X<span class="op">$</span>e[i]&lt;-X<span class="op">$</span>b[i]<span class="op">/</span>X<span class="op">$</span>c[i]
        }
    }
  )
  ifelseTime&lt;-<span class="kw">system.time</span>(X<span class="op">$</span>e &lt;-<span class="st"> </span><span class="kw">ifelse</span>(X<span class="op">$</span>a <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="op">-</span><span class="dv">999</span>, X<span class="op">$</span>b<span class="op">/</span>X<span class="op">$</span>c))
  
  forTime&lt;-<span class="kw">cbind</span>(<span class="kw">data.frame</span>(tm,<span class="dt">cate=</span><span class="st">&quot;forTime&quot;</span>),<span class="kw">t</span>(<span class="kw">as.matrix</span>(forTime)))
  ifelseTime&lt;-<span class="kw">cbind</span>(<span class="kw">data.frame</span>(tm,<span class="dt">cate=</span><span class="st">&quot;ifelseTime&quot;</span>),<span class="kw">t</span>(<span class="kw">as.matrix</span>(ifelseTime)))
  tData&lt;-<span class="kw">rbind</span>(tData,forTime,ifelseTime)
  
}

tData&lt;-tData <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(tm<span class="op">:</span>elapsed) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">gather</span>(tm,cate)
<span class="kw">names</span>(tData)&lt;-<span class="kw">c</span>(<span class="st">&quot;iter&quot;</span>,<span class="st">&quot;cate&quot;</span>,<span class="st">&quot;timeName&quot;</span>,<span class="st">&quot;time&quot;</span>)
<span class="kw">ggplot</span>(tData,<span class="kw">aes</span>(<span class="dt">x=</span>iter,<span class="dt">y=</span>time,<span class="dt">fill=</span>cate,<span class="dt">color=</span>cate)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>)

tm&lt;-<span class="dv">1000000</span>
X&lt;-<span class="kw">as.data.frame</span>(<span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span>tm, <span class="dt">ncol=</span><span class="dv">4</span>, <span class="dt">dimnames=</span><span class="kw">list</span>(<span class="kw">seq</span>(<span class="dv">1</span><span class="op">:</span>(tm<span class="op">/</span><span class="dv">4</span>)), <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>))))
ifelseTime&lt;-<span class="kw">system.time</span>(X<span class="op">$</span>e &lt;-<span class="st"> </span><span class="kw">ifelse</span>(X<span class="op">$</span>a <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="op">-</span><span class="dv">999</span>, X<span class="op">$</span>b<span class="op">/</span>X<span class="op">$</span>c))
ifelseTime
<span class="co">#&gt;  사용자  시스템 elapsed </span>
<span class="co">#&gt;    0.04    0.00    0.05</span></code></pre></div>
<p><img src="forApply_files/figure-html/unnamed-chunk-18-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>이렇게 <code>for</code>를 사용하지 않고 다른 방법을 사용하는 것으로 벡터연산이 있습니다. 이름이 중요하진 않으니 R이 감당할 수 있는 수준의 데이터를 <code>apply</code>를 통해서 다루는 법을 알아보겠습니다.</p>
</div>
</div>
<div id="introduce-apply" class="section level2">
<h2><span class="header-section-number">3.3</span> apply류의 함수들</h2>
<div id="apply" class="section level3">
<h3><span class="header-section-number">3.3.1</span> apply</h3>
<p><code>apply</code> 함수에 대해서 알아보겠습니다. <code>apply</code>는 행이나 열 방향의 데이터를 한 번에 계산하는데 사용합니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1</span>)
( myMat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">round</span>(<span class="kw">rnorm</span>(<span class="dv">16</span>,<span class="dv">10</span>),<span class="dv">2</span>),<span class="dv">4</span>,<span class="dv">4</span>) )
<span class="co">#&gt;       [,1]  [,2]  [,3]  [,4]</span>
<span class="co">#&gt; [1,]  9.37 10.33 10.58  9.38</span>
<span class="co">#&gt; [2,] 10.18  9.18  9.69  7.79</span>
<span class="co">#&gt; [3,]  9.16 10.49 11.51 11.12</span>
<span class="co">#&gt; [4,] 11.60 10.74 10.39  9.96</span></code></pre></div>
<p>위의 <code>mymat</code>에서 각 열의 평균을 구하고 싶으면 이렇게 하면 됩니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(myMat[,<span class="dv">1</span>])
<span class="co">#&gt; [1] 10.1</span>
<span class="kw">mean</span>(myMat[,<span class="dv">2</span>])
<span class="co">#&gt; [1] 10.2</span>
<span class="kw">mean</span>(myMat[,<span class="dv">3</span>])
<span class="co">#&gt; [1] 10.5</span>
<span class="kw">mean</span>(myMat[,<span class="dv">4</span>])
<span class="co">#&gt; [1] 9.56</span></code></pre></div>
<p>우리는 <code>for</code>를 배웠으니 좀 고쳐 봅시다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>){
  <span class="kw">mean</span>(myMat[,i])
}</code></pre></div>
<p>이게 또 데이터가 따로따로라 <code>c</code>도 해줘야 하는 군요.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myMean &lt;-<span class="st"> </span><span class="kw">c</span>(
  <span class="kw">mean</span>(myMat[,<span class="dv">1</span>]),
  <span class="kw">mean</span>(myMat[,<span class="dv">2</span>]),
  <span class="kw">mean</span>(myMat[,<span class="dv">3</span>]),
  <span class="kw">mean</span>(myMat[,<span class="dv">4</span>])
)
myMean
<span class="co">#&gt; [1] 10.08 10.19 10.54  9.56</span></code></pre></div>
<p><code>for</code>를 사용하면 이렇게 됩니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myMean &lt;-<span class="st"> </span><span class="kw">c</span>()
<span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>){
  myMean&lt;-<span class="kw">c</span>(myMean,<span class="kw">mean</span>(myMat[,i]))
}
myMean
<span class="co">#&gt; [1] 10.08 10.19 10.54  9.56</span></code></pre></div>
<p>여기서 함수화도 많이 진행하는 것 같더군요.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myLoop &lt;-<span class="st"> </span><span class="cf">function</span>(somemat) {
  myMean &lt;-<span class="st"> </span><span class="kw">c</span>()
  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">ncol</span>(somemat)){
    myMean&lt;-<span class="kw">c</span>(myMean,<span class="kw">mean</span>(myMat[,i]))
  }
  <span class="kw">return</span>(myMean)
}

<span class="kw">myLoop</span>(myMat)
<span class="co">#&gt; [1] 10.08 10.19 10.54  9.56</span></code></pre></div>
<p>근데 이제 열방향 mean 함수를 만드는게 끝났네요. 행방향을 진행하려면 똑같은걸 더 만들어야 합니다. 한 함수에 합쳐서 옵션으로 줘도 좋을 것 같군요. 한번 만들어 보세요.</p>
<p>하지만 <code>apply</code>는 이 걸 한줄에 할 수 있게 해줍니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apply</span>(myMat, <span class="dv">2</span>, mean)
<span class="co">#&gt; [1] 10.08 10.19 10.54  9.56</span></code></pre></div>
<p>위에 결과와 비교해 보세요. 위에서 사용한 <code>identical</code> 함수로 두 결과를 비교해 보겠습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">identical</span>(<span class="kw">myLoop</span>(myMat),<span class="kw">apply</span>(myMat, <span class="dv">2</span>, mean))
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p><code>?apply</code>를 통해 중간의 숫자가 어떤 의미를 가지는지 확인해 보세요. 1은 같은 행끼리의 계산을, 2는 같은 열끼리의 계산을 의미합니다. <code>apply</code>는 3가지 옵션을 가지는데, 첫 번째는 데이터, 두 번째는 계산의 방향, 세 번째는 계산에 사용할 함수입니다. 함수부분은 다양한 함수를 사용할 수 있습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apply</span>(myMat,<span class="dv">2</span>,class)
<span class="co">#&gt; [1] &quot;numeric&quot; &quot;numeric&quot; &quot;numeric&quot; &quot;numeric&quot;</span>
<span class="kw">apply</span>(myMat,<span class="dv">2</span>,sum) 
<span class="co">#&gt; [1] 40.3 40.7 42.2 38.2</span>
<span class="kw">apply</span>(myMat,<span class="dv">2</span>,quantile) 
<span class="co">#&gt;       [,1]  [,2]  [,3]  [,4]</span>
<span class="co">#&gt; 0%    9.16  9.18  9.69  7.79</span>
<span class="co">#&gt; 25%   9.32 10.04 10.21  8.98</span>
<span class="co">#&gt; 50%   9.77 10.41 10.48  9.67</span>
<span class="co">#&gt; 75%  10.54 10.55 10.81 10.25</span>
<span class="co">#&gt; 100% 11.60 10.74 11.51 11.12</span></code></pre></div>
<p>자주 사용하는 평균이나 합 같은 경우는 함수로도 구현되어 있습니다. <code>rowMeans</code>, <code>colMeans</code>, <code>rowSums</code>, <code>colSums</code>가 그것 입니다. 각각 <code>apply</code>로 어떻게 하면 되는지 생각해 보세요.</p>
<p><code>apply</code>에 적용하는 함수 안에 데이터만 들어가는 함수 이외에 다른 옵션을 지정해야 할 수 있습니다. <code>apply</code>는 <code>,</code>를 이용해서 다음 옵션으로 사용하는 함수 안의 옵션을 작성할 수 있습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myMat[<span class="dv">1</span>,<span class="dv">4</span>]&lt;-<span class="ot">NA</span>
<span class="kw">apply</span>(myMat,<span class="dv">2</span>,sum)
<span class="co">#&gt; [1] 40.3 40.7 42.2   NA</span>
<span class="kw">apply</span>(myMat,<span class="dv">2</span>,sum, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; [1] 40.3 40.7 42.2 28.9</span></code></pre></div>
<p><code>apply</code>에서 계산에 사용할 함수는 사용자가 만들어서 진행할 수도 있고, 임시로 만들 수도 있습니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">naSum &lt;-<span class="st"> </span><span class="cf">function</span>(x){
  <span class="kw">return</span>(<span class="kw">sum</span>(x,<span class="dt">na.rm =</span> <span class="ot">TRUE</span>))
}

<span class="kw">apply</span>(myMat,<span class="dv">2</span>,naSum)
<span class="co">#&gt; [1] 40.3 40.7 42.2 28.9</span>
<span class="kw">apply</span>(myMat,<span class="dv">2</span>,<span class="cf">function</span>(x) <span class="kw">sum</span>(x,<span class="dt">na.rm =</span> <span class="ot">TRUE</span>))
<span class="co">#&gt; [1] 40.3 40.7 42.2 28.9</span></code></pre></div>
<p>만들어야 할 함수가 복잡하지 않으면 저는 임시로 작성하는 방법을 사용하는 편입니다.</p>
</div>
<div id="applys" class="section level3">
<h3><span class="header-section-number">3.3.2</span> apply-family</h3>
<p><code>apply</code>는 <code>lapply</code>, <code>tapply</code>, <code>sapply</code>, <code>mapply</code> 등의 <code>apply-family</code>를 가지고 있습니다.</p>
<p>우선 <code>lapply</code>부터 살펴보겠습니다. 앞에 <code>l</code>이 붙으면서 <code>list</code> 자료형에 대해 <code>apply</code>의 역할을 수행하는 함수라는 의미가 붙었습니다. 결과도 <code>list</code>로 나옵니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(listData &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">c =</span> <span class="dv">10</span><span class="op">:</span><span class="dv">100</span>) )
<span class="co">#&gt; $a</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 1 2 3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt;  [1]  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26</span>
<span class="co">#&gt; [18]  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41  42  43</span>
<span class="co">#&gt; [35]  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60</span>
<span class="co">#&gt; [52]  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77</span>
<span class="co">#&gt; [69]  78  79  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94</span>
<span class="co">#&gt; [86]  95  96  97  98  99 100</span>
<span class="kw">lapply</span>(listData, length) 
<span class="co">#&gt; $a</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt; [1] 91</span>
<span class="kw">lapply</span>(listData, sum)
<span class="co">#&gt; $a</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 6</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt; [1] 5005</span></code></pre></div>
<p><code>list</code> 자료형은 사용하시면서 느끼시겠지만 다른 곳에 사용하기 불편한 점이 있습니다. 그래서 다시 <code>list</code>를 푸는 방법으로 <code>unlist</code>를 사용하는데요. <code>?unlist</code>를 입력해서 내용을 확인해보세요.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(listData &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">c =</span> <span class="dv">10</span><span class="op">:</span><span class="dv">100</span>) )
<span class="co">#&gt; $a</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 1 2 3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt;  [1]  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26</span>
<span class="co">#&gt; [18]  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41  42  43</span>
<span class="co">#&gt; [35]  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60</span>
<span class="co">#&gt; [52]  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77</span>
<span class="co">#&gt; [69]  78  79  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94</span>
<span class="co">#&gt; [86]  95  96  97  98  99 100</span>
<span class="kw">unlist</span>(<span class="kw">lapply</span>(listData, length))
<span class="co">#&gt;  a  b  c </span>
<span class="co">#&gt;  1  3 91</span>
<span class="kw">unlist</span>(<span class="kw">lapply</span>(listData, sum))
<span class="co">#&gt;    a    b    c </span>
<span class="co">#&gt;    1    6 5005</span></code></pre></div>
<p>그런데 입력을 <code>list</code>로 받는 것은 어쩔수 없다고 쳐도, 결과물은 위처럼 <code>vector</code>로 받는 것이 편한 경우가 많습니다. <code>unlist(lapply(데이터,함수))</code>는 <code>sapply</code>와 같은 동작을 합니다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(listData &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">c =</span> <span class="dv">10</span><span class="op">:</span><span class="dv">100</span>) )
<span class="co">#&gt; $a</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 1 2 3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $c</span>
<span class="co">#&gt;  [1]  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26</span>
<span class="co">#&gt; [18]  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41  42  43</span>
<span class="co">#&gt; [35]  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60</span>
<span class="co">#&gt; [52]  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77</span>
<span class="co">#&gt; [69]  78  79  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94</span>
<span class="co">#&gt; [86]  95  96  97  98  99 100</span>
<span class="kw">sapply</span>(listData, length)
<span class="co">#&gt;  a  b  c </span>
<span class="co">#&gt;  1  3 91</span>
<span class="kw">sapply</span>(listData, sum)
<span class="co">#&gt;    a    b    c </span>
<span class="co">#&gt;    1    6 5005</span></code></pre></div>
<p>이외에도 <code>list안에 list</code>까지 계산하는 <code>rapply</code>, 지정한 이름으로 실행할 수 있는 <code>tapply</code> 등이 있습니다만, 거의 <code>apply</code>나 <code>sapply</code>만 사용한 것 같습니다.</p>
<p>더 궁금하신 사항은 <a href="https://nsaunders.wordpress.com/2010/08/20/a-brief-introduction-to-apply-in-r/">여기</a>를 참고해 주세요.</p>

</div>
</div>
</div>
<section class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'mrchypark';
    var disqus_developer = 0;
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://mrchypark.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
            </section>

          </div>
        </div>
      </div>
<a href="data-type.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sql.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": true,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mrchypark/data_camp_dabrp/edit/master/forApply.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
